# 데이터 초기화 가이드 (Data Initialization Guide)

본 문서는 애플리케이션 테스트 및 개발을 위해 자동으로 생성되는 초기 데이터의 구조와 생성 방식을 설명합니다.

## 1. 개요
애플리케이션 시작 시 DB에 데이터가 없는 경우, `DataInitializer` 클래스가 동작하여 기본적인 경기 및 경기장 좌석 데이터를 자동으로 생성합니다.

## 2. 데이터 구조

### 2.1. 경기 (Match)
- **홈팀**: LG 트윈스
- **원정팀**: 두산 베어스
- **장소**: 잠실야구장
- **일시**: 현재 시간 기준 7일 후

### 2.2. 경기장 계층 구조 (Site Hierarchy)

#### 영역 (Area)
1. **내야** (Infield)
2. **외야** (Outfield)

#### 진영 (Section)
- **내야** 영역:
    - **연고**: 홈팀 응원석 측
    - **원정**: 원정팀 응원석 측
- **외야** 영역:
    - **좌측**: 좌측 외야
    - **우측**: 우측 외야

#### 구역 (Block)
- 각 진영(Section)마다 **25개**의 구역이 생성됩니다.
- 이름 규칙: `{영역}-{진영}-{번호}` (예: `내야-연고-1`, `외야-좌측-25`)

#### 좌석 (Seat)
- 각 구역(Block)마다 **100개**의 좌석이 생성됩니다.
- 배치 방식: **10 x 10** 그리드 형태
    - `rowNumber`: 1 ~ 10
    - `seatNumber`: 1 ~ 10

### 2.3. 요약 통계
- **총 경기 수**: 1개
- **총 영역 수**: 2개
- **총 진영 수**: 4개
- **총 구역 수**: 100개 (4진영 * 25구역)
- **총 좌석 수**: 10,000개 (100구역 * 100좌석)

## 3. 구현 상세 (`DataInitializer.java`)

- `CommandLineRunner` 인터페이스를 구현하여 스프링 부트 애플리케이션 구동 시 실행됩니다.
- `@Transactional` 어노테이션을 사용하여 모든 초기화 작업이 하나의 트랜잭션으로 처리됩니다.
- `matchRepository.count() > 0`인 경우 이미 데이터가 있는 것으로 간주하고 초기화를 건너뜁니다.
- `seatRepository.saveAll()`을 사용하여 대량의 좌석 데이터를 효율적으로 저장합니다.

## 4. 실행 방법
- 별도의 설정 없이 애플리케이션을 실행(또는 `docker-compose up`)하면 자동으로 데이터가 생성됩니다.
- 데이터를 다시 초기화하려면 데이터베이스를 초기화(Hibernate `ddl-auto: create` 등)하고 재시작하십시오.
